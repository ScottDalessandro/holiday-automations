---
// Hero section component
---

<!-- Hero Section -->
<section class="w-full max-w-4xl mx-auto pt-32 pb-20 px-6 text-center flex flex-col items-center relative">

    <!-- Badge -->
    <!-- <div class="fade-up inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-semibold tracking-wide mb-8 animate-pulse shadow-[0_0_15px_-3px_rgba(16,185,129,0.2)]">
        <span>ðŸŽ„</span> NEW 2024 WORKFLOWS
    </div> -->

    <!-- Heading -->
    <h1 class="fade-up text-5xl md:text-6xl lg:text-7xl font-semibold tracking-tighter leading-[1.1] mb-6">
        <span class="bg-gradient-to-r from-rose-400 via-amber-400 to-emerald-400 bg-clip-text text-transparent block animate-gradient-x pb-2">Holiday Automation</span>
        <span class="text-white drop-shadow-lg">Walkthroughs</span>
    </h1>

    <!-- Subheading -->
    <p class="fade-up text-lg text-slate-400 max-w-xl mx-auto mb-10 leading-relaxed font-light">
        Step-by-step video tutorials for n8n beginners. Build real automations, learn transferable skills, have some holiday fun along the way.
    </p>

    <!-- Buttons -->
    <div class="fade-up flex flex-col sm:flex-row gap-4 mb-6 z-20">
        <button id="start-btn" class="relative overflow-hidden bg-rose-600 hover:bg-rose-500 text-white px-8 py-3.5 rounded-full font-medium transition-all shadow-lg shadow-rose-900/20 flex items-center gap-2 justify-center group active:scale-95">
            Start Building
            <iconify-icon icon="lucide:arrow-right" class="group-hover:translate-x-1 transition-transform" stroke-width="2"></iconify-icon>
        </button>
        <button id="watch-intro-btn" class="bg-transparent border border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white px-8 py-3.5 rounded-full font-medium transition-all flex items-center gap-2 justify-center hover:bg-white/5">
            <iconify-icon icon="lucide:play-circle" stroke-width="2"></iconify-icon>
            Watch Intro
        </button>
    </div>

    <!-- Video Overlay Modal -->
    <div id="video-overlay" class="fixed inset-0 z-[100] bg-slate-950/95 backdrop-blur-sm flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
        <!-- Close Button -->
        <button id="close-video-btn" class="absolute top-6 right-6 text-white/70 hover:text-white transition-colors z-10">
            <iconify-icon icon="lucide:x" width="32" stroke-width="2"></iconify-icon>
        </button>
        <!-- Video Container -->
        <div class="w-full max-w-5xl aspect-video mx-4">
            <div id="video-embed-container" class="w-full h-full rounded-2xl overflow-hidden shadow-2xl shadow-black/50 bg-slate-900"></div>
        </div>
    </div>

    <!-- Secondary CTA -->
    <div class="fade-up mt-6 text-center mb-10">
        <span class="text-slate-500 text-sm">New to n8n?</span>
        <a href="/getting-started" class="text-amber-400 hover:text-amber-300 text-sm font-medium ml-1 transition-colors">Start here first â†’</a>
    </div>

    <!-- Mini Workflow Preview Card -->
    <div class="fade-up w-full max-w-md mx-auto bg-slate-900/80 border border-slate-800 rounded-xl p-6 backdrop-blur-md shadow-2xl relative group hover:border-slate-600 transition-colors duration-500">
        <div class="flex items-center justify-between px-4">
            <!-- Trigger Node -->
            <div class="flex flex-col items-center gap-2 z-10">
                <div class="w-12 h-12 rounded-xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center border border-emerald-500/20 shadow-[0_0_15px_-3px_rgba(16,185,129,0.3)] group-hover:scale-110 transition-transform duration-300">
                    <iconify-icon icon="lucide:calendar-clock" width="24" stroke-width="1.5"></iconify-icon>
                </div>
            </div>

            <!-- Connector 1 -->
            <div class="flex-1 mx-2 h-10 flex items-center justify-center relative">
                <svg class="w-full h-2 stroke-slate-600" overflow="visible">
                    <line x1="0" y1="1" x2="100%" y2="1" stroke-width="2" class="flow-line"></line>
                </svg>
                <iconify-icon icon="lucide:gift" class="absolute text-amber-400 text-xs bg-slate-900 p-1 rounded-full border border-slate-700" width="12"></iconify-icon>
            </div>

            <!-- Action Node -->
            <div class="flex flex-col items-center gap-2 z-10">
                <div class="w-12 h-12 rounded-xl bg-rose-500/20 text-rose-400 flex items-center justify-center border border-rose-500/20 shadow-[0_0_15px_-3px_rgba(244,63,94,0.3)] group-hover:scale-110 transition-transform duration-300 delay-100">
                    <iconify-icon icon="lucide:wand-2" width="24" stroke-width="1.5"></iconify-icon>
                </div>
            </div>

            <!-- Connector 2 -->
            <div class="flex-1 mx-2 h-10 flex items-center justify-center relative">
                <svg class="w-full h-2 stroke-slate-600" overflow="visible">
                    <line x1="0" y1="1" x2="100%" y2="1" stroke-width="2" class="flow-line"></line>
                </svg>
            </div>

            <!-- Result Node -->
            <div class="flex flex-col items-center gap-2 z-10">
                <div class="w-12 h-12 rounded-xl bg-amber-500/20 text-amber-400 flex items-center justify-center border border-amber-500/20 shadow-[0_0_15px_-3px_rgba(251,191,36,0.3)] group-hover:scale-110 transition-transform duration-300 delay-200">
                    <iconify-icon icon="lucide:mail-check" width="24" stroke-width="1.5"></iconify-icon>
                </div>
            </div>
        </div>
    </div>

    <!-- Hanukkah Menorah Countdown -->
    <div class="fade-up mt-6 flex flex-col items-center gap-4">
        <div class="text-blue-400 text-sm font-semibold tracking-wide">
            <span id="hanukkah-countdown">Loading...</span>
        </div>

        <!-- Menorah -->
        <div class="menorah-container relative flex items-end justify-center gap-1 p-4 bg-blue-500/5 rounded-2xl border border-blue-500/20 hover:border-blue-400/40 transition-colors group">
            <!-- Left 4 candles -->
            <div class="candle-wrapper" data-candle="1">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="2">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="3">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="4">
                <div class="candle"></div>
            </div>

            <!-- Shamash (center, taller) -->
            <div class="candle-wrapper shamash" data-candle="shamash">
                <div class="candle"></div>
            </div>

            <!-- Right 4 candles -->
            <div class="candle-wrapper" data-candle="5">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="6">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="7">
                <div class="candle"></div>
            </div>
            <div class="candle-wrapper" data-candle="8">
                <div class="candle"></div>
            </div>

            <!-- Menorah Base -->
            <div class="absolute bottom-3 left-1/2 -translate-x-1/2 w-32 h-2 bg-gradient-to-r from-amber-600 via-amber-500 to-amber-600 rounded-full shadow-lg"></div>
            <div class="absolute bottom-1 left-1/2 -translate-x-1/2 w-20 h-3 bg-gradient-to-r from-amber-700 via-amber-600 to-amber-700 rounded-b-lg shadow-lg"></div>
        </div>
    </div>

    <!-- Live Countdowns -->
    <div class="fade-up mt-6 flex flex-col sm:flex-row items-center gap-3">
        <!-- Christmas Countdown -->
        <div class="flex items-center gap-2 text-amber-400 bg-amber-500/5 px-4 py-2 rounded-full border border-amber-500/20">
            <span class="animate-pulse">ðŸŽ„</span>
            <span id="countdown" class="font-mono text-sm font-semibold tracking-tight">Loading cheer...</span>
        </div>
        <!-- New Year Countdown -->
        <div class="flex items-center gap-2 text-emerald-400 bg-emerald-500/5 px-4 py-2 rounded-full border border-emerald-500/20">
            <span class="animate-pulse">ðŸŽ†</span>
            <span id="newyear-countdown" class="font-mono text-sm font-semibold tracking-tight">Loading...</span>
        </div>
    </div>

</section>

<style>
    .menorah-container {
        min-height: 100px;
    }

    .candle-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        transition: transform 0.2s;
        padding-bottom: 12px;
    }

    .candle-wrapper:hover {
        transform: scale(1.1);
    }

    .candle-wrapper .candle {
        width: 8px;
        height: 32px;
        background: linear-gradient(to bottom, #60a5fa, #3b82f6);
        border-radius: 2px 2px 0 0;
        position: relative;
        box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
    }

    .candle-wrapper.shamash {
        margin: 0 6px;
        padding-bottom: 20px;
    }

    .candle-wrapper.shamash .candle {
        height: 40px;
        width: 10px;
        background: linear-gradient(to bottom, #fbbf24, #f59e0b);
        box-shadow: 0 0 15px rgba(251, 191, 36, 0.4);
    }

    /* Flame - hidden by default */
    .candle-wrapper .candle::before {
        content: '';
        position: absolute;
        top: -12px;
        left: 50%;
        transform: translateX(-50%) scale(0);
        width: 8px;
        height: 14px;
        background: linear-gradient(to top, #fbbf24, #fb923c, #f97316);
        border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        opacity: 0;
        transition: all 0.3s ease;
        filter: blur(0.5px);
    }

    /* Flame glow */
    .candle-wrapper .candle::after {
        content: '';
        position: absolute;
        top: -16px;
        left: 50%;
        transform: translateX(-50%) scale(0);
        width: 16px;
        height: 20px;
        background: radial-gradient(ellipse, rgba(251, 191, 36, 0.6), transparent);
        border-radius: 50%;
        opacity: 0;
        transition: all 0.3s ease;
    }

    /* Lit state */
    .candle-wrapper.lit .candle::before,
    .candle-wrapper:hover .candle::before {
        opacity: 1;
        transform: translateX(-50%) scale(1);
        animation: flicker 0.5s ease-in-out infinite alternate;
    }

    .candle-wrapper.lit .candle::after,
    .candle-wrapper:hover .candle::after {
        opacity: 1;
        transform: translateX(-50%) scale(1);
        animation: glow 0.5s ease-in-out infinite alternate;
    }

    /* Shamash always lit */
    .candle-wrapper.shamash .candle::before {
        opacity: 1;
        transform: translateX(-50%) scale(1);
        width: 10px;
        height: 16px;
        animation: flicker 0.4s ease-in-out infinite alternate;
    }

    .candle-wrapper.shamash .candle::after {
        opacity: 1;
        transform: translateX(-50%) scale(1);
        animation: glow 0.4s ease-in-out infinite alternate;
    }

    @keyframes flicker {
        0% {
            transform: translateX(-50%) scale(1) rotate(-2deg);
            filter: blur(0.5px);
        }
        100% {
            transform: translateX(-50%) scale(1.1) rotate(2deg);
            filter: blur(1px);
        }
    }

    @keyframes glow {
        0% {
            opacity: 0.6;
            transform: translateX(-50%) scale(1);
        }
        100% {
            opacity: 0.9;
            transform: translateX(-50%) scale(1.2);
        }
    }

    /* Days indicator on candles */
    .candle-wrapper[data-days]::after {
        content: attr(data-days);
        position: absolute;
        bottom: -4px;
        font-size: 8px;
        color: #93c5fd;
        font-weight: bold;
        font-family: monospace;
    }
</style>

<script>
// Christmas Countdown Timer
const countdownEl = document.getElementById('countdown');
const updateCountdown = () => {
    if (!countdownEl) return;
    const now = new Date();
    const currentYear = now.getFullYear();
    const xmas = new Date(currentYear, 11, 25);
    if (now.getMonth() === 11 && now.getDate() > 25) {
        xmas.setFullYear(currentYear + 1);
    }
    const diff = xmas.getTime() - now.getTime();
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    countdownEl.textContent = `${days}d ${hours}h until Christmas`;
};
updateCountdown();
setInterval(updateCountdown, 1000 * 60);

// New Year Countdown Timer
const newYearCountdownEl = document.getElementById('newyear-countdown');
const updateNewYearCountdown = () => {
    if (!newYearCountdownEl) return;
    const now = new Date();
    const currentYear = now.getFullYear();
    const newYear = new Date(currentYear + 1, 0, 1); // January 1st of next year
    const diff = newYear.getTime() - now.getTime();
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    newYearCountdownEl.textContent = `${days}d ${hours}h until New Year`;
};
updateNewYearCountdown();
setInterval(updateNewYearCountdown, 1000 * 60);

// Hanukkah Countdown Timer with Menorah
const hanukkahCountdownEl = document.getElementById('hanukkah-countdown');
const candleWrappers = document.querySelectorAll('.candle-wrapper:not(.shamash)');

// Hanukkah 2025: December 14 (sundown) - December 22
// Hanukkah 2026: December 4 (sundown) - December 12
const getHanukkahDates = (year: number) => {
    const dates: Record<number, { start: Date; end: Date }> = {
        2024: { start: new Date(2024, 11, 25), end: new Date(2025, 0, 2) },
        2025: { start: new Date(2025, 11, 14), end: new Date(2025, 11, 22) },
        2026: { start: new Date(2026, 11, 4), end: new Date(2026, 11, 12) },
        2027: { start: new Date(2027, 11, 24), end: new Date(2028, 0, 1) },
    };
    return dates[year] || dates[2025];
};

const updateHanukkahCountdown = () => {
    if (!hanukkahCountdownEl) return;

    const now = new Date();
    const currentYear = now.getFullYear();
    let hanukkah = getHanukkahDates(currentYear);

    // If we're past this year's Hanukkah, look at next year
    if (now > hanukkah.end) {
        hanukkah = getHanukkahDates(currentYear + 1);
    }

    const { start, end } = hanukkah;

    // Check if we're during Hanukkah
    if (now >= start && now <= end) {
        // Calculate which night of Hanukkah (1-8)
        const diffDays = Math.floor((now.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));
        const night = Math.min(diffDays + 1, 8);

        hanukkahCountdownEl.innerHTML = `âœ¨ Night ${night} of Hanukkah! <span class="text-amber-400">Chag Sameach!</span> âœ¨`;

        // Light the appropriate candles (right to left, as is tradition)
        candleWrappers.forEach((wrapper, index) => {
            // Candles are numbered 1-8, light from right to left
            // Array index 0-3 are left candles, 4-7 are right candles
            // Night 1: light candle 8 (index 7)
            // Night 2: light candles 7,8 (index 6,7)
            // etc.
            const candleNumber = index < 4 ? index + 1 : index + 1;
            const shouldLight = candleNumber > (8 - night);

            if (shouldLight) {
                wrapper.classList.add('lit');
            } else {
                wrapper.classList.remove('lit');
            }
        });
    } else {
        // Countdown to Hanukkah
        const diff = start.getTime() - now.getTime();
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

        if (days === 0) {
            hanukkahCountdownEl.textContent = `ðŸ•Ž Hanukkah begins tonight at sundown!`;
        } else {
            hanukkahCountdownEl.textContent = `ðŸ•Ž ${days}d ${hours}h until Hanukkah`;
        }

        // Remove lit state from all candles when not during Hanukkah
        candleWrappers.forEach(wrapper => wrapper.classList.remove('lit'));
    }
};

updateHanukkahCountdown();
setInterval(updateHanukkahCountdown, 1000 * 60);

// Start Building Button - scroll to tutorials with confetti
const btn = document.getElementById('start-btn');
const colors = ['bg-rose-500', 'bg-emerald-500', 'bg-amber-400', 'bg-sky-400'];

btn?.addEventListener('click', (e) => {
    // Confetti effect
    const rect = btn.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        const color = colors[Math.floor(Math.random() * colors.length)];
        particle.className = `fixed w-2 h-2 rounded-sm ${color} z-50 pointer-events-none`;
        particle.style.left = `${centerX}px`;
        particle.style.top = `${centerY}px`;

        document.body.appendChild(particle);

        const angle = Math.random() * Math.PI * 2;
        const velocity = Math.random() * 100 + 50;

        const anim = particle.animate([
            { transform: 'translate(0,0) rotate(0deg)', opacity: '1' },
            { transform: `translate(${Math.cos(angle) * velocity}px, ${Math.sin(angle) * velocity}px) rotate(${Math.random() * 360}deg)`, opacity: '0' }
        ], {
            duration: 800,
            easing: 'ease-out'
        });

        anim.onfinish = () => particle.remove();
    }

    // Scroll to tutorials section
    const tutorials = document.getElementById('tutorials');
    if (tutorials) {
        setTimeout(() => {
            tutorials.scrollIntoView({ behavior: 'smooth' });
        }, 200);
    }
});

// Watch Intro Button - fullscreen video overlay
const watchIntroBtn = document.getElementById('watch-intro-btn');
const videoOverlay = document.getElementById('video-overlay');
const closeVideoBtn = document.getElementById('close-video-btn');
const videoEmbedContainer = document.getElementById('video-embed-container');
const YOUTUBE_VIDEO_ID = 'M0PRa5_-fPI';

const openVideoOverlay = () => {
    if (!videoOverlay || !videoEmbedContainer) return;

    // Create iframe
    const iframe = document.createElement('iframe');
    iframe.src = `https://www.youtube.com/embed/${YOUTUBE_VIDEO_ID}?autoplay=1&rel=0`;
    iframe.className = 'w-full h-full';
    iframe.setAttribute('frameborder', '0');
    iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
    iframe.setAttribute('allowfullscreen', '');

    videoEmbedContainer.innerHTML = '';
    videoEmbedContainer.appendChild(iframe);

    // Show overlay
    videoOverlay.classList.remove('opacity-0', 'pointer-events-none');
    document.body.style.overflow = 'hidden';
};

const closeVideoOverlay = () => {
    if (!videoOverlay || !videoEmbedContainer) return;

    // Hide overlay
    videoOverlay.classList.add('opacity-0', 'pointer-events-none');
    document.body.style.overflow = '';

    // Remove iframe after transition
    setTimeout(() => {
        videoEmbedContainer.innerHTML = '';
    }, 300);
};

watchIntroBtn?.addEventListener('click', openVideoOverlay);
closeVideoBtn?.addEventListener('click', closeVideoOverlay);

// Close on overlay background click
videoOverlay?.addEventListener('click', (e) => {
    if (e.target === videoOverlay) {
        closeVideoOverlay();
    }
});

// Close on Escape key
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && videoOverlay && !videoOverlay.classList.contains('opacity-0')) {
        closeVideoOverlay();
    }
});
</script>
