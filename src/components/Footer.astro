---
interface Props {
  compact?: boolean;
}

const { compact = false } = Astro.props;
const currentYear = new Date().getFullYear();
---

{compact ? (
    <!-- Compact Footer for Lesson Pages -->
    <footer class="w-full border-t border-slate-800 bg-slate-950 text-center py-12 relative z-10">
        <div class="max-w-4xl mx-auto px-6">
            <div class="flex justify-center gap-4 text-xl mb-6 select-none opacity-60">
                <span>&#127876;</span><span>&#9924;</span><span>&#127873;</span>
            </div>
            <p class="text-slate-500 text-sm">
                Holiday Automations â€” Learn n8n through festive projects
            </p>
        </div>
    </footer>
) : (
    <Fragment>
        <!-- Decorative Divider -->
        <div class="w-full bg-slate-950 py-8 overflow-hidden relative fade-up">
            <div class="max-w-4xl mx-auto flex items-center justify-center">
                <div class="h-px bg-slate-800 flex-1"></div>
                <!-- Symbols container -->
                <div class="flex px-4 gap-4 sm:gap-8 select-none">
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 0s;">&#10052;&#65039;</span>
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 0.3s;">&#10017;&#65039;</span>
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 0.6s;">&#127876;</span>
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 0.9s;">&#128367;&#65039;</span>
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 1.2s;">&#127878;</span>
                   <span class="text-2xl opacity-40 animate-pulse" style="animation-duration: 2s; animation-delay: 1.5s;">&#10024;</span>
                </div>
                <div class="h-px bg-slate-800 flex-1"></div>
            </div>
        </div>

        <!-- Email & Charity Section -->
        <section class="max-w-3xl mx-auto px-6 py-12 flex flex-col md:flex-row items-center justify-center gap-6 md:gap-12 relative z-10 fade-up">
            <!-- Email Signup (Left) -->
            <div class="flex flex-col items-start w-full md:w-auto">
                <label class="text-slate-400 text-sm mb-1">&#128236; Stay in the loop</label>
                <p class="text-slate-500 text-xs mb-3">Get notified when new tutorials drop.</p>
                <form class="flex gap-2 w-full md:w-auto">
                    <input type="email" placeholder="email@example.com" class="bg-slate-900/50 border border-slate-800 rounded-lg px-4 py-2.5 w-full md:w-64 text-white text-sm placeholder-slate-500 focus:outline-none focus:border-rose-500/50 transition-colors">
                    <button type="submit" class="bg-rose-500 hover:bg-rose-600 text-white font-medium px-5 py-2.5 rounded-lg text-sm transition-all whitespace-nowrap">Subscribe</button>
                </form>
            </div>

            <!-- Vertical Divider (Center - Desktop only) -->
            <div class="hidden md:block w-px h-12 bg-slate-800"></div>

            <!-- Charity (Right) -->
            <div class="flex flex-col items-start w-full md:w-auto">
                <label class="text-slate-400 text-sm mb-1">&#127873; Give back this season</label>
                <p class="text-slate-500 text-xs mb-3">100% goes to Toys for Tots. Every dollar = a toy for a kid.</p>
                <a href="https://www.every.org/toysfortots/f/holiday-automations" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-full md:w-auto bg-emerald-600/80 hover:bg-emerald-600 text-white font-medium px-5 py-2.5 rounded-lg text-sm transition-all text-center">
                    Donate to Toys for Tots
                </a>
            </div>
        </section>

        <!-- Full Footer for Homepage -->
        <footer class="w-full border-t border-slate-800 bg-slate-950 text-center py-16 mt-0 relative z-10">
            <div class="max-w-4xl mx-auto px-6">
                <div class="flex justify-center gap-6 text-2xl mb-6 select-none opacity-80">
                    <span>&#127876;</span><span>&#9924;</span><span>&#127873;</span><span>&#10052;&#65039;</span><span>&#129420;</span>
                </div>
                <p class="text-amber-400/90 text-lg italic font-medium mb-3">
                    Building Holiday Magic, One Workflow at a Time
                </p>
                <p class="text-slate-500 text-sm">
                    A free learning resource for the automation-curious
                </p>

                <div class="mt-8 pt-8 border-t border-slate-900 flex flex-col md:flex-row items-center justify-between text-xs text-slate-600">
                    <span>&copy; {currentYear} Holiday Automations</span>
                    <div class="flex gap-4 mt-4 md:mt-0">
                        <a href="#" class="hover:text-slate-400 transition-colors">Privacy</a>
                        <a href="#" class="hover:text-slate-400 transition-colors">Terms</a>
                        <a href="#" class="hover:text-slate-400 transition-colors">Twitter</a>
                    </div>
                </div>
            </div>
        </footer>
    </Fragment>
)}
